[gd_scene load_steps=6 format=3 uid="uid://dnsn26ckuh3wt"]

[ext_resource type="Script" path="res://scripts/battle.gd" id="1_dqy4l"]
[ext_resource type="Texture2D" uid="uid://cri8mehsrtg4a" path="res://assets/bg.png" id="2_qn6ts"]
[ext_resource type="PackedScene" uid="uid://bd5tgikbhtj71" path="res://scenes/fighter.tscn" id="3_8vqx7"]
[ext_resource type="PackedScene" uid="uid://c018vkus66c6i" path="res://scenes/enemy.tscn" id="4_gj1xr"]
[ext_resource type="AudioStream" uid="uid://3h5iyskh0m7b" path="res://assets/PeriTune-2020_9-Battle_Tracks/1-BattleField.mp3" id="9_f0j54"]

[node name="Battle" type="Node2D" node_paths=PackedStringArray("command_box", "info_box")]
script = ExtResource("1_dqy4l")
command_box = NodePath("UI/CommandBox")
info_box = NodePath("UI/InfoBox")

[node name="Bg" type="Sprite2D" parent="."]
position = Vector2(80, 45)
texture = ExtResource("2_qn6ts")
centered = false

[node name="Player" parent="." instance=ExtResource("3_8vqx7")]
position = Vector2(200, 215)

[node name="Enemy" parent="." instance=ExtResource("4_gj1xr")]
position = Vector2(400, 215)

[node name="UI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 640.0
offset_bottom = 360.0
size_flags_vertical = 4

[node name="CommandBox" type="VBoxContainer" parent="UI"]
visible = false
layout_mode = 0
offset_left = 129.0
offset_top = 196.0
offset_right = 196.0
offset_bottom = 250.0

[node name="AttackButton" type="Button" parent="UI/CommandBox"]
layout_mode = 2
theme_override_font_sizes/font_size = 12
text = "Attack"

[node name="SpecialButton" type="Button" parent="UI/CommandBox"]
layout_mode = 2
theme_override_font_sizes/font_size = 12
text = "Special"

[node name="InfoBox" type="Label" parent="UI"]
layout_mode = 0
offset_left = 80.0
offset_top = 315.0
offset_right = 560.0
offset_bottom = 360.0
text = "Text goes here"

[node name="PlayerHP" type="Label" parent="UI"]
layout_mode = 0
offset_left = 208.0
offset_top = 168.0
offset_right = 248.0
offset_bottom = 191.0

[node name="EnemyHP" type="Label" parent="UI"]
layout_mode = 0
offset_left = 400.0
offset_top = 168.0
offset_right = 440.0
offset_bottom = 191.0

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("9_f0j54")
autoplay = true

[connection signal="button_down" from="UI/CommandBox/AttackButton" to="." method="_on_button_button_down"]
[connection signal="button_down" from="UI/CommandBox/SpecialButton" to="." method="_on_special_button_button_down"]
